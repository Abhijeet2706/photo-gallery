(this["webpackJsonpreact-unplash-app"]=this["webpackJsonpreact-unplash-app"]||[]).push([[0],{14:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r}));var n="aBvz8CNST9rLABaVxZ7M6HXOvsPT2EW393X_sMFu2pI",c={HomeLayout:"/",searchKeyword:"/:searchKeyword",imageView:"/:searchKeyword/:imageId"},r=9},18:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return m}));var n=a(0),c=a.n(n),r=(a(59),a(46)),o=a(45),l=a.n(o),i=a(20),u=a.n(i),s=a(14);e.fetch=l.a;var m=new u.a({accessKey:s.c});t.b=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(r.a,null))}}).call(this,a(25))},46:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(26),o=a(3),l=a(14),i=a(7),u=a(49),s=(a(60),function(e){var t=e.onClick,a=(e.className,e.disabled),n=Object(u.a)(e,["onClick","className","disabled"]);return c.a.createElement("button",Object.assign({onClick:t,disabled:a,className:"button"},n))}),m=a(104),d=a(40),f=a.n(d),h=(a(61),function(e){var t=e.imageSearchKeyword,a=e.onImageSearchKeywordChange,r=Object(n.useState)(""),o=Object(i.a)(r,2),l=o[0],u=o[1],s=function(){a(l)};return Object(n.useEffect)((function(){u(t)}),[t]),c.a.createElement("div",{className:"searchBarContainer"},c.a.createElement("input",{type:"text",onKeyDown:function(e){"Enter"===e.key&&s()},value:l,placeholder:"Please enter text to search images",className:"searchBarInputBox",onChange:function(e){u(e.target.value)}}),c.a.createElement(m.a,{edge:"start",className:"searchButton",onClick:s,color:"inherit","aria-label":"menu"},c.a.createElement(f.a,{fontSize:"large",style:{color:"#07bdbe"}})))}),b=a(33),g=a(20),p=a(18);var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.a,c=Object(n.useState)([]),r=Object(i.a)(c,2),o=r[0],u=r[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),d=m[0],f=m[1],h=Object(n.useState)(0),E=Object(i.a)(h,2),v=E[0],w=E[1];return Object(n.useEffect)((function(){e&&(f(!0),p.a.search.photos(e,t,a,{orientation:"portrait"}).then(g.toJson).then((function(e){t>1?u((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e.results))})):(u(e.results),w(e.total_pages))})).finally((function(){f(!1)})))}),[e,t,a]),[o,v,d]},v=(a(80),function(e){var t=e.image,a=e.onImageClick,n=t.id,r=t.user,o=r.name,l=r.profile_image.medium,i=t.urls.thumb;return c.a.createElement("div",{className:"imageContainer",style:{background:"url(".concat(i,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},onClick:function(){a(n)}},c.a.createElement("div",{className:"userInformation"},c.a.createElement("img",{src:l,alt:"User Profile"}),c.a.createElement("p",null,"Image by ",c.a.createElement("span",null,o))))}),w=(a(81),function(e){var t=e.imageSearchKeyword,a=Object(o.g)(),r=Object(n.useState)(1),l=Object(i.a)(r,2),u=l[0],m=l[1],d=E(t,u),f=Object(i.a)(d,3),h=f[0],b=f[1],g=f[2],p=function(e){a.push("/".concat(t,"/").concat(e))};return Object(n.useEffect)((function(){m(1)}),[t]),c.a.createElement("div",null,c.a.createElement("div",{className:"imageListContainer"},h&&h.map((function(e){return c.a.createElement(v,{key:e.id,image:e,onImageClick:p})}))),u<b&&c.a.createElement("div",{className:"loadMoreButtonContainer"},c.a.createElement(s,{className:"loadMoreButton",onClick:function(){u<b&&m(u+1)},disabled:g},g?"Loading...":"Load more")))}),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(n.useCallback)((function(){r(!1)}),[]);return Object(n.useEffect)((function(){e&&r(!0)}),[e]),{isShowing:c,hide:o}},j=a(16),y=a.n(j),S=(a(83),a(41)),k=a.n(S),C=function(e){var t=e.isShowing,a=e.hide,n=e.children;return t?y.a.createPortal(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"modalWrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog"},c.a.createElement("div",{onClick:a,className:"modalOverlay"}),c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modalHeader"},c.a.createElement(m.a,{className:"modalCloseButton",onClick:a,color:"primary","aria-label":"menu"},c.a.createElement(k.a,{fontSize:"large"}))),n))),document.body):null},N=(a(84),function(e){var t=e.imageSearchKeyword,a=e.imageId,r=Object(o.g)(),l=Object(n.useState)(),u=Object(i.a)(l,2),m=u[0],d=u[1],f=Object(n.useState)(),h=Object(i.a)(f,2),b=h[0],E=h[1],v=O(a),w=v.isShowing,j=v.hide,y=Object(n.useCallback)((function(){r.push("/".concat(t)),j()}),[r,t,j]);Object(n.useEffect)((function(){E(null),d(null),a?p.a.photos.getPhoto(a).then(g.toJson).then((function(e){d(e)})).catch((function(e){console.log(e),E(e)})):y()}),[a,y]);var S=m&&m.urls&&m.urls.full,k=m&&m.alt_description;return c.a.createElement(C,{isShowing:w,hide:y},S&&c.a.createElement("div",null,c.a.createElement("div",{className:"modalImageContainer"},c.a.createElement("img",{src:m.urls.full,width:"100%",height:"100%",alt:k||"Image"}),c.a.createElement(s,{onClick:function(){p.a.photos.downloadPhoto(m).then(g.toJson).then((function(e){fetch(e.url).then((function(e){var t=e.body.getReader();return new ReadableStream({start:function(e){return function a(){return t.read().then((function(t){var n=t.done,c=t.value;if(!n)return e.enqueue(c),a();e.close()}))}()}})})).then((function(e){return new Response(e)})).then((function(e){return e.blob()})).then((function(e){return URL.createObjectURL(e)})).then((function(e){var t=document.createElement("a");t.href=e,t.download="download.jpg",document.body.appendChild(t),t.click(),document.body.removeChild(t)})).catch((function(e){return console.error(e)}))}))},className:"downloadButton"},"Download Image"))),b&&(b.message&&c.a.createElement("div",null,b.message)||c.a.createElement("div",null,"Something went wrong!")))}),I=a(42),K=a(43),B=a(44),x=a(48),L=a(47),R=a(105),P=a(103),H=a(8),J=function(e){Object(x.a)(a,e);var t=Object(L.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(B.a)(a,[{key:"render",value:function(){var e=this.props.classes;return c.a.createElement("div",{className:e.root},c.a.createElement(R.a,{position:"static"},c.a.createElement(P.a,null,c.a.createElement("div",{className:"title"},this.props.title))))}}]),a}(n.Component),M=Object(H.a)((function(e){return{root:{width:"100%",background:"#07bdbe"},grow:{flexGrow:1},title:Object(I.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"})}}))(J),z=function(e){var t=e.match,a=Object(n.useState)(null),r=Object(i.a)(a,2),o=r[0],l=r[1],u=Object(n.useState)(""),s=Object(i.a)(u,2),m=s[0],d=s[1];return Object(n.useEffect)((function(){t.params&&t.params.searchKeyword&&(d(t.params.searchKeyword),t.params.imageId?l(t.params.imageId):l(""))}),[t.params,t.params.searchKeyword]),c.a.createElement("div",null,c.a.createElement(M,{title:"React image search engine app"}),c.a.createElement(h,{imageSearchKeyword:m,onImageSearchKeywordChange:function(e){d(e)}}),c.a.createElement(w,{imageSearchKeyword:m}),c.a.createElement(N,{imageId:o,imageSearchKeyword:m}))};t.a=function(){return c.a.createElement(r.a,null,c.a.createElement(o.d,null,c.a.createElement(o.b,{exact:!0,path:l.b.HomeLayout,component:z}),c.a.createElement(o.b,{exact:!0,path:l.b.searchKeyword,component:z}),c.a.createElement(o.b,{exact:!0,path:l.b.imageView,component:z}),c.a.createElement(o.a,{from:"*",to:l.b.HomeLayout})))}},53:function(e,t,a){e.exports=a(85)},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),l=(a(58),a(18));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.68ae0aa6.chunk.js.map